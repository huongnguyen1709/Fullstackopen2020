{"version":3,"sources":["components/Filter.js","services/persons.js","components/Notification.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["Filter","filterName","onHandleChange","style","marginBottom","type","value","onChange","baseUrl","getAll","axios","get","Notification","error","message","className","PersonForm","props","onHandleSubmit","newName","newNumber","onChangeName","onChangeNumber","onSubmit","Persons","persons","map","person","display","name","number","onClick","onDelete","id","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setMessage","setError","useEffect","then","response","data","catch","err","console","log","onUpdate","objectID","newObject","put","update","res","setTimeout","filter","toLowerCase","indexOf","marginLeft","fontSize","e","target","preventDefault","isChecked","every","newUser","Number","post","index","findIndex","window","confirm","delete","Delete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3854b57.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterName, onHandleChange }) => {\r\n    return (\r\n        <div style={{ marginBottom: '20px' }}>\r\n            filter shown with: <input\r\n                type='text'\r\n                value={filterName}\r\n                onChange={onHandleChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nexport const getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nexport const create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nexport const Delete = objectID => {\r\n    return axios.delete(`${baseUrl}/${objectID}`)\r\n}\r\n\r\nexport const update = (objectID, newObject) => {\r\n    return axios.put(`${baseUrl}/${objectID}`, newObject)\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ error, message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={error ? 'error message' : 'success message'}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    const { onHandleSubmit, newName, newNumber, onChangeName, onChangeNumber } = props\r\n    return (\r\n        <form onSubmit={onHandleSubmit}>\r\n            <div style={{ marginBottom: '20px' }}>\r\n                name: <input\r\n                    type='text'\r\n                    value={newName}\r\n                    onChange={onChangeName} />\r\n            </div>\r\n            <div style={{ marginBottom: '20px' }}>\r\n                number: <input\r\n                    type='tel'\r\n                    value={newNumber}\r\n                    onChange={onChangeNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n    const { persons } = props\r\n    return (\r\n        persons && persons.map(person => {\r\n            return (\r\n                <div key={person.id}>\r\n                    <p style={{ display: 'inline-block' }}>{person.name} &nbsp; {person.number} </p> &nbsp;\r\n                    <button onClick={() => props.onDelete(person.id, person.name)}>delete</button>\r\n                </div>\r\n            )\r\n        })\r\n    )\r\n}\r\n\r\nexport default Persons;","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport { getAll, create, Delete, update } from './services/persons'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n    var [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filterName, setFilterName] = useState('')\n    const [message, setMessage] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        getAll()\n            .then(response => {\n                setPersons(response.data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }, [])\n\n    const addNew = e => {\n        e.preventDefault()\n        const isChecked = persons.every(person => person.name.toLowerCase() !== newName.toLowerCase())\n        const newUser = { name: newName, number: Number(newNumber) }\n        if (isChecked) {\n            create(newUser)\n                .then(res => {\n                    setPersons(res.data)\n                    setNewName('')\n                    setNewNumber('')\n\n                    setMessage(`Added ${newName}`)\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n        } else {\n            const index = persons.findIndex(person => person.name.toLowerCase() === newName)\n            const id = persons[index].id\n            const name = persons[index].name\n            if (window.confirm(`${name} is already added to phonebook, replace the old number with a new one ?`)) {\n                onUpdate(id, newUser)\n            }\n        }\n    }\n\n    const onDelete = (objectID, name) => {\n        console.log(objectID)\n        if (window.confirm(`Delete ${name} ?`)) {\n            Delete(objectID)\n                .then(response => {\n                    getAll()\n                        .then(response => {\n                            setPersons(response.data)\n                        })\n                        .catch(err => {\n                            console.log(err)\n                        })\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n        }\n    }\n\n    const onUpdate = (objectID, newObject) => {\n        update(objectID, newObject)\n            .then(res => {\n                getAll()\n                    .then(response => {\n                        setPersons(response.data)\n                    })\n                    .catch(err => {\n                        console.log(err)\n                    })\n            })\n            .catch(err => {\n                console.log(err)\n                setError(true)\n                setMessage(`Information of ${newObject.name} has already been removed from server`)\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            })\n            .then(() => {\n                getAll()\n                    .then(response => {\n                        setPersons(response.data)\n                    })\n                    .catch(err => {\n                        console.log(err)\n                    })\n                setNewName('')\n                setNewNumber('')\n            }\n            )\n    }\n\n    if (filterName && filterName !== '') {\n        persons = persons.filter(person => {\n            return person.name.toLowerCase().indexOf(filterName.toLowerCase()) !== -1\n        })\n    }\n\n    return (\n        <div style={{ marginLeft: '10px', fontSize: '20px' }}>\n            <h2>Phonebook</h2>\n            <Notification error={error} message={message} />\n            <Filter\n                filterName={filterName}\n                onHandleChange={e => setFilterName(e.target.value)}\n            />\n\n            <h3>Add a new</h3>\n            <PersonForm\n                onHandleSubmit={addNew}\n                newName={newName}\n                newNumber={newNumber}\n                onChangeName={e => setNewName(e.target.value)}\n                onChangeNumber={e => setNewNumber(e.target.value)}\n            />\n\n            <h2>Numbers</h2>\n            <Persons onDelete={onDelete} persons={persons} />\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}